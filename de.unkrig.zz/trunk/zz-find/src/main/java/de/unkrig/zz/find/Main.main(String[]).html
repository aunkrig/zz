<html>
  <body>
A command line utility to find files, directories and archive entries by various criteria, and optionally
execute some actions.
<h2>Usage</h2>
<dl>
  <dt><code>zzfind</code> [ <var>option</var> ] ... <var>file-or-dir</var> ... [ <var>expression</var> ]</dt>
  <dd>
    Apply "<var>expression</var>" to "<var>file-or-dir</var> ..." and all nested directory members,
    archive entries and compressed files.
  </dd>
</dl>
<p>
  File name "-" stands for STDIN.
</p>

<h2>Options</h2>

<dl>
  <dt><code>--help</code></dt>
  <dd>Print this text and terminate.</dd>
  <dt><code>--look-into</code> <var>format-glob</var><code>:</code><var>path-glob</var></dt>
  <dd>Look into compressed and archive contents if the format and the path match the globs.
The default is to look into any recognised archive or compressed contents.
<br />
Supported archive formats in this runtime configuration are:
<br />
<code>${archive.formats}</code>
<br />
Supported compression formats in this runtime configuration are:
<br />
<code>${compression.formats}</code></dd>
  <dt><code>--depth</code></dt>
  <dd>Process each directory's contents before the directory itself, and each archive's entries before the archive
itself, and each compressed contents before the enclosing file or archive entry.</dd>
  <dt><code>--min-depth</code> <var>levels</var></dt>
  <dd>Do not apply any tests or actions at levels less than <var>levels</var>. E.g. "1" means "process all files
except the top level files and directories".</dd>
  <dt><code>--max-depth</code> <var>levels</var></dt>
  <dd>Descend at most <var>levels</var> of directories below the top level files and directories. "0" means "only
apply the tests and actions to the top level files and directories".
<p>
  If in doubt, try:
</p>
<pre>zzfind ... -print -echo @{depth}</pre></dd>
  <dt><code>--nowarn</code></dt>
  <dd>Suppress all messages except errors.</dd>
  <dt><code>--quiet</code></dt>
  <dd>Suppress normal output.</dd>
  <dt><code>--verbose</code></dt>
  <dd>Print verbose messages.</dd>
  <dt><code>--debug</code></dt>
  <dd>Print verbose and debug messages.</dd>
  <dt><code>--log</code> <var>level</var><code>:</code><var>logger</var><code>:</code><var>handler</var><code>:</code><var>formatter</var><code>:</code><var>format</var></dt>
  <dd>Add logging at level <code>FINE</code> on logger "<code>de.unkrig</code>" to STDERR using the "<code>FormatFormatter</code>"
and "<code>SIMPLE</code>" format, or the given arguments, which are all optional.</dd>
  <dt><code>-zip</code></dt>
  <dt><code>-zz</code></dt>
  <dt><code>-nested-zip</code></dt>
  <dt><code>-z</code></dt>
  <dd>(These are no longer supported; use "<code>--look-into</code>" instead.)</dd>

</dl>

<h2>Expressions</h2>

<var>Expression</var>s are either tests or actions. Both evaluate to a boolean value.

<h3>Tests</h3>
<dl>
  <dt><code>-name</code> <var>glob</var></dt>
  <dd>
    Name matches "<var>glob</var>" (see below).
  </dd>
  <dt><code>-path</code> <var>glob</var></dt>
  <dd>
    The full path (e.g. "<code>dir/file.zip!dir/file.zip!dir/file</code>" or "<code>dir/file</code>") matches
    "<var>glob</var>" (see below).
  </dd>
  <dt><code>-type</code> <var>glob</var></dt>
  <dd>
    Whether the type matches the <var>glob</var>. See the "type" property, described below.
    If you are unsure about types, run <code>zzfind</code> with <code>-echo "&#64;{type} &#64;{path}"</code> first.
  </dd>
  <dt><code>-readable</code></dt>
  <dd>
    Whether this file is readable.
  </dd>
  <dt><code>-writable</code></dt>
  <dd>
    Whether this file is writable.
  </dd>
  <dt><code>-executable</code></dt>
  <dd>
    Whether this file is executable.
  </dd>
  <dt><code>-size</code> <var>N</var></dt>
  <dt><code>-size -</code><var>N</var></dt>
  <dt><code>-size +</code><var>N</var></dt>
  <dd>
    Whether the size is exactly/less than/more than <var>N</var> (e.g. "<code>100</code>", "<code>-1K</code>",
    "<code>+10M</code>").
  </dd>
  <dt><code>-mtime</code> <var>N</var></dt>
  <dt><code>-mtime +</code><var>N</var></dt>
  <dt><code>-mtime -</code><var>N</var></dt>
  <dd>
    Whether this file/archive entry was last modified (exactly/more than/less than) <var>N</var> days ago
    (N=0: 0...24h, N=1: 24...48h, ...).
  </dd>
  <dt><code>-mmin</code> <var>N</var></dt>
  <dt><code>-mmin +</code><var>N</var></dt>
  <dt><code>-mmin -</code><var>N</var></dt>
  <dd>
    Whether this file/archive entry was last modified (exactly/more than/less than) <var>N</var> minutes ago
    (N=0: 0...59sec, N=1: 60...119sec, ...).
  </dd>
  <dt><var>exp1</var> <code>-a</code> <var>exp2</var></dt>
  <dt><var>exp1</var> <var>exp2</var></dt>
  <dd>
    Whether both <var>exp1</var> and <var>exp2</var> are true. <var>exp2</var> is not evaluated if
    <var>exp1</var> is false.
  </dd>
  <dt><var>exp1</var> <code>-o</code> <var>exp2</var></dt>
  <dd>
    Whether <var>exp1</var> or <var>exp2</var> is true. <var>exp2</var> is not evaluated if <var>exp1</var>
    is true.
  </dd>
  <dt><var>exp1</var> <code>,</code> <var>exp2</var></dt>
  <dd>
    Evaluates both expressions and returns the result of <var>exp2</var>.
  </dd>
  <dt><code>-not</code> <var>exp</var></dt>
  <dt><code>!</code> <var>exp</var></dt>
  <dd>
    Whether <var>exp</var> is false.
  </dd>
  <dt><code>(</code> <var>exp</var> <code>)</code></dt>
  <dd>
    Whether <var>exp</var> is true.
  </dd>
</dl>

<h3>Actions</h3>
<dl>
  <dt><code>-print</code></dt>
  <dd>
    Print file path and return true.
  </dd>
  <dt><code>-echo</code> <var>message</var></dt>
  <dd>
    Print the <var>message</var> and return true.
    All occurrences of "<code>&#64;{<i>property-name</i>}</code>" in the <var>message</var> are replaced with
    the value of the property. For the list of supported properties, see section "Properties of files and
    archive entries", below.
  </dd>
  <dt><code>-ls</code></dt>
  <dd>
    Print file type, readability, writability, executability, size, modification time and path, and return true.
  </dd>
  <dt><code>-exec</code> <var>word</var><code>... ;</code></dt>
  <dd>
    Execute "<var>word</var><code>...</code>" as an external command; "<code>{}</code>" is replaced with the current
    file's path (which may contain "<code>!</code>" and would then NOT denote a physical file in the file system).
  </dd>
  <dt><code>-pipe</code> <var>word</var><code>... ;</code></dt>
  <dd>
    Copy the file contents to the standard input of an external command "<var>word</var><code>...</code>";
    "<code>{}</code>" is replaced with the current file's path (which may contain "<code>!</code>" and would then
    NOT denote a physical file in the file system).
  </dd>
  <dt><code>-cat</code></dt>
  <dd>
    Print file contents and return true.
  </dd>
  <dt><code>-copy</code> <var>tofile</var></dt>
  <dd>
    Copy file contents to the named file.
    All occurrences of "<code>&#64;{<i>property-name</i>}</code>" in the <var>tofile</var> are replaced with
    the value of the property. For the list of supported properties, see section "Properties of files and
    archive entries", below.
  </dd>
  <dt><code>-disassemble</code> [ <code>-hideLines</code> ] [ <code>-hideVars</code> ]</dt>
  <dd>
    Disassembles a Java class file.
  </dd>
  <dt><code>-digest</code> <var>algorithm</var></dt>
  <dd>
    Calculate a "message digest" of the contents, print it and return true.
    <br />
    Algorithms available in this environment are: ${digest.providers}
  </dd>
  <dt><code>-checksum</code> CRC32|ADLER32</dt>
  <dd>
    Calculate a checksum of the contents, print it and return true.
    <br />
  </dd>
  <dt><code>-true</code></dt>
  <dd>
    Return <code>true</code>.
  </dd>
  <dt><code>-false</code></dt>
  <dd>
    Return <code>false</code>.
  </dd>
</dl>
<p>
  If no action is given, then "<code>-print</code>" is implicitly added.
</p>

<h3>Properties of files and archive entries</h3>
<p>
  Various tests and actions (e.g. "<code>-echo</code>") have access to a set of "properties" of the current file
  or archive entry.
</p>
<dl>
  <dt><code>"name"</code>:</dt>
  <dd>
    The last component of the path.
  </dd>
  <dt><code>"path"</code>:</dt>
  <dd>
    The path to the resources as it was found. "!" indicates an archive, "%" a compressed file.
  </dd>
  <dt><code>"depth"</code>:</dt>
  <dd>
    Zero for the files/directories specified on the command line, +1 for files/directories in a subdirectory,
    +1 for compressed content, and +1 for the entries of archive files.
  </dd>
  <dt><code>"type"</code>:</dt>
  <dd>
    The "type" of the current subject; the actual types are:
    <dl>
      <dt><code>directory</code></dt>
      <dd>A directory</dd>
      <dt><code>file</code></dt>
      <dd>A (non-archive, not-compressed) file</dd>
      <dt><code>archive-file</code></dt>
      <dd>An archive file</dd>
      <dt><code>compressed-file</code></dt>
      <dd>A compressed file</dd>
      <dt><code>archive</code></dt>
      <dd>A nested archive</dd>
      <dt><code>normal-contents</code></dt>
      <dd>Normal (non-archive, not-compressed) content</dd>
      <dt><code>directory-entry</code></dt>
      <dd>A "directory entry" in an archive.</dd>
    </dl>
  </dd>
  <dt><code>"absolutePath"</code>:</dt>
  <dd>
    The absolute path of the file or directory, typically by resolving relative paths against the current user
    directory. For all other types: That of the enclosing file.
  </dd>
  <dt><code>"canonicalPath"</code>:</dt>
  <dd>
    The absolute path of the file or directory, typically by resolving relative paths against the current user
    directory and resolving all "." and ".." infixes. For all other types: That of the enclosing file.
  </dd>
  <dt><code>"lastModifiedDate"</code>:</dt>
  <dd>
    The date and time of the last modification of the file, directory or archive entry, in the format "<code>dow mon dd hh:mm:ss zzz yyyy</code>".
  </dd>
  <dt><code>"size"</code>:</dt>
  <dd>
    The size, in bytes, for types "archive", "archive-file", "compressed-contents", "compressed-file", "file" or
    "normal-contents", -1 for type "directory-entry", and 0 for type "directory".
  </dd>
  <dt><code>"isDirectory"</code>:</dt>
  <dd>
    Whether the type is "directory" or "directory-entry".
  </dd>
  <dt><code>"isFile"</code>:</dt>
  <dd>
    Whether the type is "archive", "archive-file", "compressed-contents", "compressed-file", "directory-entry",
    "file" or "normal-contents".
  </dd>
  <dt><code>"isHidden"</code>:</dt>
  <dd>
    Whether the file or directory is "hidden" in the file system; <code>false</code> for all other types.
  </dd>
  <dt><code>"isReadable"</code>:</dt>
  <dd>
    Whether the file or directory is "readable" in the file system; <code>false</code> for all other types.
  </dd>
  <dt><code>"isWritable"</code>:</dt>
  <dd>
    Whether the file or directory is "writable" in the file system; <code>false</code> for all other types.
  </dd>
  <dt><code>"isExecutable"</code>:</dt>
  <dd>
    Whether the file or directory is "executable" in the file system; <code>false</code> for all other types.
  </dd>
  <dt><code>"archiveFormat"</code>:</dt>
  <dd>
    For types "archive" and "archive-file": The format.
    <br />
    For types "normal-contents", "compressed-contents" and "directory-entry": The format of the immediately
    enclosing archive.
    <br />
    For all other types: Empty.
  </dd>
  <dt><code>"compressionFormat"</code>:</dt>
  <dd>
    For types "compressed-contents" and "compressed-file": The format.
    <br />
    For type "normal-contents": The format of the immediately enclosing compressed contents.
    <br />
    For all other types: Empty.
  </dd>
</dl>
<p>
  Some archive entries have additional properties:
</p>
<dl>
  <dt>Archive format "ar":</dt>
  <dd>
    "groupId", "mode", "userId"
  </dd>
  <dt>Archive format "arj":</dt>
  <dd>
    "hostOs", "method", "mode", "unixMode", "isHostOsUnix"
  </dd>
  <dt>Archive format "cpio":</dt>
  <dd>
    "alignmentBoundary", "chksum", "dataPadCount", "device", "format", "gID", "headerPadCount", "headerSize",
    "inode", "mode", "numberOfLinks", "remoteDevice", "uID", "isBlockDevice", "isNetwork", "isPipe",
    "isRegularFile", "isSocket", "isSymbolicLink"
  </dd>
  <dt>Archive format "dump":</dt>
  <dd>
    "accessTime", "creationTime", "entrySize", "generation", "groupId", "headerCount", "headerHoles",
    "headerType", "ino", "mode", "nlink", "offset", "originalName", "permissions", "simpleName", userId",
    "volume", "isBlkDev", "isChrDev", isDeleted", "isFifo", isSocket"
  </dd>
  <dt>Archive format "7z":</dt>
  <dd>
    "accessDate", "crcValue", "creationDate", hasAccessDate", "hasCrc", hasCreationDate", "hasLastModifiedDate",
    "hasWindowsAttributes", "windowsAttributes", "isAntiItem"
  </dd>
  <dt>Archive format "tar":</dt>
  <dd>
    "devMajor", "devMinor", "groupId", "groupName", "linkName", "mode", "modTime", "realSize", "userId",
    "userName", "isBlockDevice", "isCharacterDevice", "isExtended", "isFIFO", isGlobalPaxHeader",
    "isGNULongLinkEntry", "isGNULongNameEntry", "isGNUSparse", "isLink", "isPaxHeader", "isSymbolicLink"
  </dd>
  <dt>Archive format "zip":</dt>
  <dd>
    "externalAttributes", "internalAttributes", "method", "platform", "unixMode", "isUnixSymlink"
  </dd>
</dl>

<h2>Example <var>glob</var>s</h2>

<dl>
  <dt><code>dir/file</code></dt>
  <dd>
    File "<code>file</code>" in directory "<code>dir</code>"
  </dd>
  <dt><code>file.gz%</code></dt>
  <dd>
    Compressed file "<code>file.gz</code>"
  </dd>
  <dt><code>file.zip!dir/file</code></dt>
  <dd>
    Entry "<code>dir/file</code>" in archive file "<code>dir/file.zip</code>"
  </dd>
  <dt><code>file.tar.gz%!dir/file</code></dt>
  <dd>
    Entry "<code>dir/file</code>" in the compressed archive file "<code>file.tar.gz</code>"
  </dd>
  <dt><code>&#42;/x</code></dt>
  <dd>
    File "<code>x</code>" in an immediate subdirectory
  </dd>
  <dt><code>*&#42;/x</code></dt>
  <dd>
    File "<code>x</code>" in any subdirectory
  </dd>
  <dt><code>**&#42;/x</code></dt>
  <dd>
    File "<code>x</code>" in any subdirectory, or any entry "<code>*&#42;/x</code>" in any archive file in any
    subdirectory
  </dd>
  <dt><code>a,dir/file.7z!dir/b</code></dt>
  <dd>
    File "<code>a</code>" and entry "<code>dir/b</code>" in archive file "<code>dir/file.7z</code>"
  </dd>
  <dt><code>~*.c</code></dt>
  <dd>
    Files that don't end with "<code>.c</code>"
  </dd>
  <dt><code>~*.c~*.h</code></dt>
  <dd>
    Files that don't end with "<code>.c</code>" or "<code>.h</code>"
  </dd>
  <dt><code>~*.c~*.h,foo.c</code></dt>
  <dd>
    "<code>foo.c</code>" plus all files that don't end with "<code>.c</code>" or "<code>.h</code>"
  </dd>
</dl>
  </body>
</html>
